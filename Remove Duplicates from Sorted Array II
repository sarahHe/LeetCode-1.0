class Solution {
public:
    int removeDuplicates(int A[], int n) {
        if (n < 3)  return n;
        int i = 1, count = 0, k = 0;
        while (i < n) {
           if (A[k] != A[i]) {
               A[++k] = A[i++];
               count = 0;
           }
           else {
               count++;
               if (count == 1) {
                    A[++k] = A[i++];
               }
               else
                i++;
           }
        }
        return k + 1;
    }
};
